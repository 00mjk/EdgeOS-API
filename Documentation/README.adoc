= EdgeOS API Guide
:toc: preamble

The EdgeOS API is not publicly documented. However as the requests and responses can be monitored in a web-browser along with the JavaScript source being available, a lot of information on how it works can be derived.

toc::[]

== Authentication

=== Login

A HTTP POST to `\https://host-or-ip/` with the username and password encoded as a simple `application/x-www-form-urlencoded` form with the following request content will grant you a `PHPSESSID` cookie that is used to confirm you are authenticated:

[source,subs="+quotes"]
----
username=*USERNAME*&password=*PASSWORD*
----

This will return a HTTP status code `303 See Other` on success and the same login form again with a `200 OK` containing the text "The username or password you entered is incorrect" on failure, be careful as some web clients will automatically follow the 303 redirection and the cookies may not be where you expect them to be.

The session ID is returned multiple times but the only header of importance for authentication is:

[source,http,subs="+quotes"]
----
Set-Cookie: PHPSESSID=*9a00126c5bf04e29835f7c13fe5ab155*; secure
----

[WARNING]
====
A session is valid for 15 minutes and is refreshed on every web request.

A session can be periodically artificially extended with a link:REST%20API/General%20-%20Session%20Heartbeat.adoc[Session Heartbeat] request.
====

=== Logout

A HTTP GET to `/logout` will end the current session.

== REST API

=== Optical Line Terminal (OLT)

* Get Connected Optical Network Unit (ONU) Devices

=== Optical Line Terminal (OLT) - Optical Network Unit (ONU)

* Get Connected WiFi Clients
* Get Support File
* Locate
* Reset

=== Edge - General

* link:REST%20API/General%20-%20Batch%20Configuration.adoc[Batch Configuration]
* Delete
* Feature
* link:REST%20API/General%20-%20Get%20Complete%20Configuration.adoc[Get Complete Configuration]
* link:REST%20API/General%20-%20Get%20Configuration%20Section.adoc[Get Configuration Section]
* link:REST%20API/General%20-%20Get%20Data.adoc[Get Data]
* link:REST%20API/General%20-%20Session%20Heartbeat.adoc[Session Heartbeat]
* Set
* Setup
* Upgrade

=== Edge - Configuration

* link:REST%20API/Config%20-%20Download%20Configuration.adoc[Download Configuration]
* Restore Configuration

=== Edge - Optical Network Unit (ONU)

* Reboot
* Upgrade

=== Edge - Operations

* link:REST%20API/Operation%20-%20Check%20For%20Firmware%20Updates.adoc[Check For Firmware Updates]
* link:REST%20API/Operation%20-%20Clear%20Traffic%20Analysis.adoc[Clear Traffic Analysis]
* link:REST%20API/Operation%20-%20Generate%20Support%20File.adoc[Generate Support File]
* link:REST%20API/Operation%20-%20Reboot.adoc[Reboot]
* link:REST%20API/Operation%20-%20Release%20DHCP%20Lease.adoc[Release DHCP Lease]
* link:REST%20API/Operation%20-%20Renew%20DHCP%20Lease.adoc[Renew DHCP Lease]
* link:REST%20API/Operation%20-%20Reset%20Default%20Configuration.adoc[Reset Default Configuration]
* link:REST%20API/Operation%20-%20Shutdown.adoc[Shutdown]

=== Wizards

* Create
* Download Wizard
* link:REST%20API/Wizard%20-%20List%20All%20Wizards.adoc[List All Wizards]
* Setup
* Remove
* Runtime
* Upload

== WebSocket

* link:WebSocket%20API/Command%20Line%20Interface%20%28CLI%29.adoc[Command Line Interface (CLI)]
* link:WebSocket%20API/Statistics.adoc[Statistics]

== Third Party Unofficial APIs

There are a few developers who have worked on creating unofficial APIs:

 * https://github.com/matthew1471/EdgeOS-API (written in C#)
 * https://github.com/andrewstuart/edgeos-rest (written in Go)